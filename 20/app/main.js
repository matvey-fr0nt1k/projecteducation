(function (factory) {
  typeof define === 'function' && define.amd ? define('main', factory) :
  factory();
})((function () { 'use strict';

  (function (factory) {
    typeof define === 'function' && define.amd ? define('main', factory) : factory();
  })(function () {

    (function (factory) {
      typeof define === 'function' && define.amd ? define('main', factory) : factory();
    })(function () {
      (function (factory) {
        typeof define === 'function' && define.amd ? define('main', factory) : factory();
      })(function () {
        (function (factory) {
          typeof define === 'function' && define.amd ? define('main', factory) : factory();
        })(function () {
          (function (factory) {
            typeof define === 'function' && define.amd ? define('main', factory) : factory();
          })(function () {
            (function (factory) {
              typeof define === 'function' && define.amd ? define('main', factory) : factory();
            })(function () {
              (function (factory) {
                typeof define === 'function' && define.amd ? define('main', factory) : factory();
              })(function () {
                (function (factory) {
                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                })(function () {
                  (function (factory) {
                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                  })(function () {
                    (function (factory) {
                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                    })(function () {
                      (function (factory) {
                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                      })(function () {
                        (function (factory) {
                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                        })(function () {
                          (function (factory) {
                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                          })(function () {
                            (function (factory) {
                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                            })(function () {
                              (function (factory) {
                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                              })(function () {
                                (function (factory) {
                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                })(function () {
                                  (function (factory) {
                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                  })(function () {
                                    (function (factory) {
                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                    })(function () {
                                      (function (factory) {
                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                      })(function () {
                                        (function (factory) {
                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                        })(function () {
                                          (function (factory) {
                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                          })(function () {
                                            (function (factory) {
                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                            })(function () {
                                              (function (factory) {
                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                              })(function () {
                                                (function (factory) {
                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                })(function () {
                                                  (function (factory) {
                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                  })(function () {
                                                    (function (factory) {
                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                    })(function () {
                                                      (function (factory) {
                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                      })(function () {
                                                        (function (factory) {
                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                        })(function () {
                                                          (function (factory) {
                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                          })(function () {
                                                            (function (factory) {
                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                            })(function () {
                                                              (function (factory) {
                                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                              })(function () {
                                                                (function (factory) {
                                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                })(function () {
                                                                  (function (factory) {
                                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                  })(function () {
                                                                    (function (factory) {
                                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                    })(function () {
                                                                      (function (factory) {
                                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                      })(function () {
                                                                        (function (factory) {
                                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                        })(function () {
                                                                          (function (factory) {
                                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                          })(function () {
                                                                            (function (factory) {
                                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                            })(function () {
                                                                              (function (factory) {
                                                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                              })(function () {
                                                                                (function (factory) {
                                                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                })(function () {
                                                                                  (function (factory) {
                                                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                  })(function () {
                                                                                    (function (factory) {
                                                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                    })(function () {
                                                                                      (function (factory) {
                                                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                      })(function () {
                                                                                        (function (factory) {
                                                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                        })(function () {
                                                                                          (function (factory) {
                                                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                          })(function () {
                                                                                            (function (factory) {
                                                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                            })(function () {
                                                                                              (function (factory) {
                                                                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                              })(function () {
                                                                                                (function (factory) {
                                                                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                })(function () {
                                                                                                  (function (factory) {
                                                                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                  })(function () {
                                                                                                    (function (factory) {
                                                                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                    })(function () {
                                                                                                      (function (factory) {
                                                                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                      })(function () {
                                                                                                        (function (factory) {
                                                                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                        })(function () {
                                                                                                          (function (factory) {
                                                                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                          })(function () {
                                                                                                            (function (factory) {
                                                                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                            })(function () {
                                                                                                              (function (factory) {
                                                                                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                              })(function () {
                                                                                                                (function (factory) {
                                                                                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                })(function () {
                                                                                                                  (function (factory) {
                                                                                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                  })(function () {
                                                                                                                    (function (factory) {
                                                                                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                    })(function () {
                                                                                                                      (function (factory) {
                                                                                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                      })(function () {
                                                                                                                        (function (factory) {
                                                                                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                        })(function () {
                                                                                                                          (function (factory) {
                                                                                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                          })(function () {
                                                                                                                            (function (factory) {
                                                                                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                            })(function () {
                                                                                                                              (function (factory) {
                                                                                                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                              })(function () {
                                                                                                                                (function (factory) {
                                                                                                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                })(function () {
                                                                                                                                  (function (factory) {
                                                                                                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                  })(function () {
                                                                                                                                    (function (factory) {
                                                                                                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                    })(function () {
                                                                                                                                      (function (factory) {
                                                                                                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                      })(function () {
                                                                                                                                        (function (factory) {
                                                                                                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                        })(function () {
                                                                                                                                          (function (factory) {
                                                                                                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                          })(function () {
                                                                                                                                            (function (factory) {
                                                                                                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                            })(function () {
                                                                                                                                              (function (factory) {
                                                                                                                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                              })(function () {
                                                                                                                                                (function (factory) {
                                                                                                                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                })(function () {
                                                                                                                                                  (function (factory) {
                                                                                                                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                  })(function () {
                                                                                                                                                    (function (factory) {
                                                                                                                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                    })(function () {
                                                                                                                                                      (function (factory) {
                                                                                                                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                      })(function () {
                                                                                                                                                        (function (factory) {
                                                                                                                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                        })(function () {
                                                                                                                                                          (function (factory) {
                                                                                                                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                          })(function () {
                                                                                                                                                            (function (factory) {
                                                                                                                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                            })(function () {
                                                                                                                                                              (function (factory) {
                                                                                                                                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                              })(function () {
                                                                                                                                                                (function (factory) {
                                                                                                                                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                })(function () {
                                                                                                                                                                  (function (factory) {
                                                                                                                                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                  })(function () {
                                                                                                                                                                    (function (factory) {
                                                                                                                                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                    })(function () {
                                                                                                                                                                      (function (factory) {
                                                                                                                                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                      })(function () {
                                                                                                                                                                        (function (factory) {
                                                                                                                                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                        })(function () {
                                                                                                                                                                          (function (factory) {
                                                                                                                                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                          })(function () {
                                                                                                                                                                            (function (factory) {
                                                                                                                                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                            })(function () {
                                                                                                                                                                              (function (factory) {
                                                                                                                                                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                              })(function () {
                                                                                                                                                                                (function (factory) {
                                                                                                                                                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                })(function () {
                                                                                                                                                                                  (function (factory) {
                                                                                                                                                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                  })(function () {
                                                                                                                                                                                    (function (factory) {
                                                                                                                                                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                    })(function () {
                                                                                                                                                                                      (function (factory) {
                                                                                                                                                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                      })(function () {
                                                                                                                                                                                        (function (factory) {
                                                                                                                                                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                        })(function () {
                                                                                                                                                                                          (function (factory) {
                                                                                                                                                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                          })(function () {
                                                                                                                                                                                            (function (factory) {
                                                                                                                                                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                            })(function () {
                                                                                                                                                                                              (function (factory) {
                                                                                                                                                                                                typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                              })(function () {
                                                                                                                                                                                                (function (factory) {
                                                                                                                                                                                                  typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                                })(function () {
                                                                                                                                                                                                  (function (factory) {
                                                                                                                                                                                                    typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                                  })(function () {
                                                                                                                                                                                                    (function (factory) {
                                                                                                                                                                                                      typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                                    })(function () {
                                                                                                                                                                                                      (function (factory) {
                                                                                                                                                                                                        typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                                      })(function () {
                                                                                                                                                                                                        (function (factory) {
                                                                                                                                                                                                          typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                                        })(function () {
                                                                                                                                                                                                          (function (factory) {
                                                                                                                                                                                                            typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                                          })(function () {
                                                                                                                                                                                                            (function (factory) {
                                                                                                                                                                                                              typeof define === 'function' && define.amd ? define('main', factory) : factory();
                                                                                                                                                                                                            })(function () {
                                                                                                                                                                                                              const fetchDelete = id => {
                                                                                                                                                                                                                fetch(`https://reqres.in/api/users/${id}`, {
                                                                                                                                                                                                                  method: 'delete'
                                                                                                                                                                                                                }).then(() => alert('успешно удалено')).catch(e => alert(e.message));
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const handlerClickDeleteButton = e => {
                                                                                                                                                                                                                document.getElementById(e.target.id).remove();
                                                                                                                                                                                                                fetchDelete(e.target.id);
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const createDeleteButton = id => {
                                                                                                                                                                                                                const button = document.createElement('button');
                                                                                                                                                                                                                button.id = id;
                                                                                                                                                                                                                button.innerHTML = 'Удалить';
                                                                                                                                                                                                                button.addEventListener('click', handlerClickDeleteButton);
                                                                                                                                                                                                                return button;
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const fetchUpdate = (id, body) => {
                                                                                                                                                                                                                const headers = {
                                                                                                                                                                                                                  'Content-Type': 'application/json;charset=utf-8'
                                                                                                                                                                                                                };
                                                                                                                                                                                                                return fetch(`https://reqres.in/api/users/${id}`, {
                                                                                                                                                                                                                  method: 'put',
                                                                                                                                                                                                                  body,
                                                                                                                                                                                                                  headers
                                                                                                                                                                                                                }).then(() => alert('успешно изменено')).catch(e => alert(e.message));
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const createUpdateButton = id => {
                                                                                                                                                                                                                const button = document.createElement('button');
                                                                                                                                                                                                                button.id = id;
                                                                                                                                                                                                                button.innerHTML = 'Изменить';
                                                                                                                                                                                                                button.addEventListener('click', handlerClickUpdateButton, false);
                                                                                                                                                                                                                return button;
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const handlerSaveUpdate = e => {
                                                                                                                                                                                                                const id = e.target.id.split('-')[1];
                                                                                                                                                                                                                const inputName = document.querySelector(`#name-${id}`).value;
                                                                                                                                                                                                                const inputEmail = document.querySelector(`#email-${id}`).value;
                                                                                                                                                                                                                e.target.disabled = true;
                                                                                                                                                                                                                const body = JSON.stringify({
                                                                                                                                                                                                                  name: inputName,
                                                                                                                                                                                                                  email: inputEmail
                                                                                                                                                                                                                });
                                                                                                                                                                                                                fetchUpdate(id, body).then(() => {
                                                                                                                                                                                                                  const item = document.getElementById(id);
                                                                                                                                                                                                                  item.innerHTML = `id: ${id}; email: ${inputEmail}; name: ${inputName}`;
                                                                                                                                                                                                                  item.appendChild(createUpdateButton(id));
                                                                                                                                                                                                                  item.appendChild(createDeleteButton(id));
                                                                                                                                                                                                                });
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const handlerClickUpdateButton = e => {
                                                                                                                                                                                                                const id = e.target.id;
                                                                                                                                                                                                                const item = document.getElementById(id);
                                                                                                                                                                                                                item.innerHTML = `id: ${id}`;
                                                                                                                                                                                                                const inputEmail = document.createElement('input');
                                                                                                                                                                                                                inputEmail.placeholder = 'email';
                                                                                                                                                                                                                inputEmail.id = `email-${id}`;
                                                                                                                                                                                                                const inputName = document.createElement('input');
                                                                                                                                                                                                                inputName.placeholder = 'name';
                                                                                                                                                                                                                inputName.id = `name-${id}`;
                                                                                                                                                                                                                const buttonSubmit = document.createElement('button');
                                                                                                                                                                                                                buttonSubmit.innerHTML = 'Сохранить';
                                                                                                                                                                                                                buttonSubmit.id = `update-${id}`;
                                                                                                                                                                                                                buttonSubmit.addEventListener('click', handlerSaveUpdate);
                                                                                                                                                                                                                item.appendChild(inputEmail);
                                                                                                                                                                                                                item.appendChild(inputName);
                                                                                                                                                                                                                item.appendChild(buttonSubmit);
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const createListItem = el => {
                                                                                                                                                                                                                const element = document.createElement('li');
                                                                                                                                                                                                                element.id = el.id;
                                                                                                                                                                                                                const user = document.createTextNode(`id: ${el.id}; email: ${el.email}; name: ${el.last_name} ${el.first_name}`);
                                                                                                                                                                                                                element.appendChild(user);
                                                                                                                                                                                                                element.appendChild(createUpdateButton(el.id));
                                                                                                                                                                                                                element.appendChild(createDeleteButton(el.id));
                                                                                                                                                                                                                return element;
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const fetchPage = (userListNode, page) => {
                                                                                                                                                                                                                const success = res => {
                                                                                                                                                                                                                  res.data.forEach(el => {
                                                                                                                                                                                                                    userListNode.appendChild(createListItem(el));
                                                                                                                                                                                                                  });
                                                                                                                                                                                                                };

                                                                                                                                                                                                                fetch(`https://reqres.in/api/users?page=${page}`).then(res => res.json()).then(success).catch(e => alert(e.message));
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const createButton = (id, text) => {
                                                                                                                                                                                                                const button = document.createElement('button');
                                                                                                                                                                                                                button.id = id;
                                                                                                                                                                                                                button.innerHTML = text;
                                                                                                                                                                                                                return button;
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const createSuccessMessage = text => {
                                                                                                                                                                                                                const block = document.createElement('div');
                                                                                                                                                                                                                const message = document.createTextNode(text);
                                                                                                                                                                                                                block.appendChild(message);
                                                                                                                                                                                                                return block;
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const loginInput = document.querySelector('#email');
                                                                                                                                                                                                              const passwordInput = document.querySelector('#password');
                                                                                                                                                                                                              const submitButton = document.querySelector('#login');
                                                                                                                                                                                                              const form = document.querySelector('form');
                                                                                                                                                                                                              const loginError = document.querySelector('#loginErr');
                                                                                                                                                                                                              let page = 1;

                                                                                                                                                                                                              const handlerClickNext = () => {
                                                                                                                                                                                                                page += 1;
                                                                                                                                                                                                                prev.disabled = false;
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const handlerClickPrev = () => {
                                                                                                                                                                                                                page -= 1;

                                                                                                                                                                                                                if (page === 1) {
                                                                                                                                                                                                                  prev.disabled = true;
                                                                                                                                                                                                                }
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const handlerClick = () => {
                                                                                                                                                                                                                const userList = document.querySelector('ul');
                                                                                                                                                                                                                const pageCounter = document.querySelector('span');
                                                                                                                                                                                                                userList.innerHTML = '';
                                                                                                                                                                                                                pageCounter.innerHTML = `page ${page}`;
                                                                                                                                                                                                                fetchPage(userList, page);
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const errorHandler = res => {
                                                                                                                                                                                                                passwordInput.value = '';
                                                                                                                                                                                                                loginInput.value = '';
                                                                                                                                                                                                                alert(res.error);
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const successHandler = () => {
                                                                                                                                                                                                                form.remove();
                                                                                                                                                                                                                const userListNode = document.createElement('ul');
                                                                                                                                                                                                                const spanNode = document.createElement('span');
                                                                                                                                                                                                                const body = document.querySelector('body');
                                                                                                                                                                                                                spanNode.innerHTML = 'page 1';
                                                                                                                                                                                                                body.appendChild(createSuccessMessage('Вход выполнен успешно!'));
                                                                                                                                                                                                                body.appendChild(spanNode);
                                                                                                                                                                                                                body.appendChild(userListNode);
                                                                                                                                                                                                                body.appendChild(createButton('prev', 'prev'));
                                                                                                                                                                                                                body.appendChild(createButton('next', 'next'));
                                                                                                                                                                                                                const nextButton = document.querySelector('#next');
                                                                                                                                                                                                                const prevButton = document.querySelector('#prev');
                                                                                                                                                                                                                nextButton.addEventListener('click', handlerClickNext);
                                                                                                                                                                                                                nextButton.addEventListener('click', handlerClick);
                                                                                                                                                                                                                prevButton.addEventListener('click', handlerClickPrev);
                                                                                                                                                                                                                prevButton.addEventListener('click', handlerClick);
                                                                                                                                                                                                                fetchPage(userListNode, page);
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const fetchLogin = (body, headers) => {
                                                                                                                                                                                                                submitButton.disabled = true;
                                                                                                                                                                                                                fetch(`https://reqres.in/api/login`, {
                                                                                                                                                                                                                  method: 'post',
                                                                                                                                                                                                                  body,
                                                                                                                                                                                                                  headers
                                                                                                                                                                                                                }).then(res => res.json()).then(res => {
                                                                                                                                                                                                                  if (res.error) {
                                                                                                                                                                                                                    errorHandler(res);
                                                                                                                                                                                                                  } else {
                                                                                                                                                                                                                    successHandler();
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                }).catch(errorHandler).finally(() => submitButton.disabled = false);
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const handlerSubmitForm = e => {
                                                                                                                                                                                                                e.preventDefault();
                                                                                                                                                                                                                const body = JSON.stringify({
                                                                                                                                                                                                                  email: loginInput.value,
                                                                                                                                                                                                                  password: passwordInput.value
                                                                                                                                                                                                                });
                                                                                                                                                                                                                const headers = {
                                                                                                                                                                                                                  'Content-Type': 'application/json;charset=utf-8'
                                                                                                                                                                                                                };
                                                                                                                                                                                                                fetchLogin(body, headers);
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const handlerBlurInput = () => {
                                                                                                                                                                                                                submitButton.disabled = !(loginInput.value && passwordInput.value);
                                                                                                                                                                                                              };

                                                                                                                                                                                                              const handlerBlurLogin = e => {
                                                                                                                                                                                                                const testEmail = /\S+@\S+\.\S+/;

                                                                                                                                                                                                                if (!testEmail.test(e.target.value)) {
                                                                                                                                                                                                                  loginError.innerHTML = 'значение введено не по формату';
                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                  loginError.innerHTML = '';
                                                                                                                                                                                                                }
                                                                                                                                                                                                              };

                                                                                                                                                                                                              loginInput.addEventListener('blur', handlerBlurInput);
                                                                                                                                                                                                              loginInput.addEventListener('blur', handlerBlurLogin);
                                                                                                                                                                                                              passwordInput.addEventListener('blur', handlerBlurInput);
                                                                                                                                                                                                              form.addEventListener('submit', handlerSubmitForm, false);
                                                                                                                                                                                                            });
                                                                                                                                                                                                          });
                                                                                                                                                                                                        });
                                                                                                                                                                                                      });
                                                                                                                                                                                                    });
                                                                                                                                                                                                  });
                                                                                                                                                                                                });
                                                                                                                                                                                              });
                                                                                                                                                                                            });
                                                                                                                                                                                          });
                                                                                                                                                                                        });
                                                                                                                                                                                      });
                                                                                                                                                                                    });
                                                                                                                                                                                  });
                                                                                                                                                                                });
                                                                                                                                                                              });
                                                                                                                                                                            });
                                                                                                                                                                          });
                                                                                                                                                                        });
                                                                                                                                                                      });
                                                                                                                                                                    });
                                                                                                                                                                  });
                                                                                                                                                                });
                                                                                                                                                              });
                                                                                                                                                            });
                                                                                                                                                          });
                                                                                                                                                        });
                                                                                                                                                      });
                                                                                                                                                    });
                                                                                                                                                  });
                                                                                                                                                });
                                                                                                                                              });
                                                                                                                                            });
                                                                                                                                          });
                                                                                                                                        });
                                                                                                                                      });
                                                                                                                                    });
                                                                                                                                  });
                                                                                                                                });
                                                                                                                              });
                                                                                                                            });
                                                                                                                          });
                                                                                                                        });
                                                                                                                      });
                                                                                                                    });
                                                                                                                  });
                                                                                                                });
                                                                                                              });
                                                                                                            });
                                                                                                          });
                                                                                                        });
                                                                                                      });
                                                                                                    });
                                                                                                  });
                                                                                                });
                                                                                              });
                                                                                            });
                                                                                          });
                                                                                        });
                                                                                      });
                                                                                    });
                                                                                  });
                                                                                });
                                                                              });
                                                                            });
                                                                          });
                                                                        });
                                                                      });
                                                                    });
                                                                  });
                                                                });
                                                              });
                                                            });
                                                          });
                                                        });
                                                      });
                                                    });
                                                  });
                                                });
                                              });
                                            });
                                          });
                                        });
                                      });
                                    });
                                  });
                                });
                              });
                            });
                          });
                        });
                      });
                    });
                  });
                });
              });
            });
          });
        });
      });
    });
  });

}));
